<div class="content">
  <ul class="nav nav-tabs">
    <li class="nav-item">
      <a class="nav-link" href="/customers">Customers</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/orders">Orders</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/datatable">Datatable</a>
    </li>
  </ul>

  <div class="list">
    <h2>Orders</h2>

    <table class="table table-hover row-border" id="orders-datatable" data-source="<%= orders_path(format: :json) %>">
      <thead class="table-secondary">
        <tr>
          <th>Order ID</th>
          <th>Item Name</th>
          <th>Price</th>
          <th>Customer</th>
        </tr>
      </thead>
  
      <tbody>
      </tbody>
    </table>
  </div>
</div>

<script>
  jQuery(document).ready(function() {
    $('#orders-datatable').dataTable({
      "processing": true,
      "serverSide": true,
      "ajax": $('#orders-datatable').data('source'),
      "pagingType": "full_numbers",
      "columns": [
        {"data": "order_id"},
        {"data": "item_name"},
        {"data": "price"},
        {"data": "customer_name"}
      ]
    });
  });
</script>
